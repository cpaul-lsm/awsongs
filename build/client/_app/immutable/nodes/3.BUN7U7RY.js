import"../chunks/disclose-version.Bg9kRutz.js";import{p as C,a as O,g,s as Y,c as o,b as n,r as i,t as A,n as E,d as b}from"../chunks/runtime.DAUSjKms.js";import{e as G,s as H}from"../chunks/render.DzTF58AG.js";import{i as I}from"../chunks/if.Yz_L7sOg.js";import{a as x,t as v}from"../chunks/template.DXirXkmM.js";import{r as J}from"../chunks/attributes.C_nMD1v0.js";import{r as N}from"../chunks/misc.0zgdeyB0.js";import{b as y}from"../chunks/input.CPAq-8ic.js";import{p as W}from"../chunks/proxy.CoxkSrJ3.js";import{g as z}from"../chunks/entry.D8jNUrBP.js";var B=v('<p class="text-red-500"> </p>'),K=v('<section class="request flex max-w-5xl flex-col items-center justify-center py-6"><form action="/request/r2" class="w-2/3 rounded-xl border border-gray-300 p-6"><div class="text-center"><a href="/" class="contents"><img src="/images/aw-logo-burg.png" alt="" class="mb-6"></a> <p class="md:text-lg">We love to sing songs people enjoy. <br> Pick a song from our list and we will play it for you! <br> <span class="text-sm">You can also dedicate the song to someone or leave a message for us.</span></p></div> <label class="input input-bordered flex items-center gap-2"><i class="bi bi-person-fill opacity-70"></i> <input type="text" name="firstname" class="w-11/12" placeholder="First name"></label> <textarea placeholder="Dedication or Comment" class="textarea textarea-bordered mt-6 w-11/12"></textarea> <!> <div class="flex justify-center"><button type="submit" class="btn flex justify-center bg-gray-700 text-white hover:bg-gray-800">Get Started!</button></div></form></section>');function at(h,w){C(w,!0);function S(){const t=new Date,e=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return`${e}:${r}`}function _(){const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${d}`}const D=S(),q=_(),T=Math.floor(Math.random()*1e6),a=W({id:T,date:q,time:D,firstname:"",comments:""});let s=Y("");const $=async t=>{t.preventDefault();const{id:e,date:r,time:d,firstname:F,comments:P}=a,k={id:e,date:r,time:d,song:"",firstname:F,comments:P};try{(await fetch("/api/add-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok?z(`/request/r2?requestId=${e}`):b(s,"Failed to submit the form. Please try again.")}catch(f){console.error("Error submitting form:",f),b(s,"An error occurred while submitting the form. Please try again.")}};var m=K(),c=o(m),l=n(o(c),2),u=n(o(l),2);J(u),i(l);var p=n(l,2);N(p);var j=n(p,2);{var M=t=>{var e=B(),r=o(e,!0);i(e),A(()=>H(r,g(s))),x(t,e)};I(j,t=>{g(s)&&t(M)})}E(2),i(c),i(m),G("submit",c,$),y(u,()=>a.firstname,t=>a.firstname=t),y(p,()=>a.comments,t=>a.comments=t),x(h,m),O()}export{at as component};
