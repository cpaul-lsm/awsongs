{"version":3,"file":"_server.ts-CU1tUkat.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/update-request/_server.ts.js"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\nasync function POST({ request }) {\n  const { requestId, songPick } = await request.json();\n  console.log(\"Received request to update song:\", { requestId, songPick });\n  const filePath = path.resolve(\"src/lib/database/requests.json\");\n  const requests = JSON.parse(fs.readFileSync(filePath, \"utf-8\"));\n  console.log(\"Parsed requests:\", requests);\n  const requestIndex = requests.findIndex((req) => req.id === requestId);\n  if (requestIndex !== -1) {\n    requests[requestIndex].song = songPick;\n    fs.writeFileSync(filePath, JSON.stringify(requests, null, 2));\n    console.log(\"Request updated successfully\");\n    return new Response(JSON.stringify({ message: \"Request updated successfully\" }), { status: 200 });\n  } else {\n    console.error(\"Request not found in backend\");\n    return new Response(JSON.stringify({ message: \"Request not found\" }), { status: 404 });\n  }\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;AAEA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACtD,EAAE,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC;AAC1E,EAAE,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,gCAAgC,CAAC;AACjE,EAAE,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACjE,EAAE,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,CAAC;AAC3C,EAAE,MAAM,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,KAAK,SAAS,CAAC;AACxE,EAAE,IAAI,YAAY,KAAK,EAAE,EAAE;AAC3B,IAAI,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,GAAG,QAAQ;AAC1C,IAAI,EAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACjE,IAAI,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC;AAC/C,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACrG,GAAG,MAAM;AACT,IAAI,OAAO,CAAC,KAAK,CAAC,8BAA8B,CAAC;AACjD,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC1F;AACA;;;;"}